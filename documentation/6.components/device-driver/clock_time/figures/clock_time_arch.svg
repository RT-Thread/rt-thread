<svg xmlns="http://www.w3.org/2000/svg" width="900" height="560" viewBox="0 0 900 560">
  <defs>
    <style>
      .box { fill: #f8f9fb; stroke: #2d3b4f; stroke-width: 1.2; rx: 8; ry: 8; }
      .title { font-family: Arial, sans-serif; font-size: 15px; font-weight: 700; fill: #1f2a3a; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #1f2a3a; }
      .label { font-family: Arial, sans-serif; font-size: 11px; fill: #1f2a3a; }
      .layer { fill: #eef3f8; stroke: #2d3b4f; stroke-width: 1.2; rx: 10; ry: 10; }
      .arrow { stroke: #2d3b4f; stroke-width: 1.3; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2d3b4f" />
    </marker>
  </defs>

  <rect class="box" x="40" y="20" width="240" height="60" />
  <text class="title" x="60" y="45">Kernel Services</text>
  <text class="text" x="60" y="63">rt_timer, delays, IPC timeouts</text>

  <rect class="box" x="330" y="20" width="240" height="60" />
  <text class="title" x="350" y="45">POSIX / libc</text>
  <text class="text" x="350" y="63">clock_gettime, nanosleep</text>

  <rect class="box" x="620" y="20" width="240" height="60" />
  <text class="title" x="640" y="45">RTC / Soft RTC</text>
  <text class="text" x="640" y="63">timekeeping, alarms</text>

  <rect class="layer" x="60" y="110" width="780" height="270" />
  <text class="title" x="80" y="140">Clock Time Subsystem</text>

  <rect class="box" x="100" y="160" width="210" height="70" />
  <text class="title" x="115" y="185">Core API</text>
  <text class="text" x="115" y="203">register, default source/event</text>
  <text class="text" x="115" y="220">counter &lt;-&gt; ns conversion</text>

  <rect class="box" x="330" y="160" width="210" height="70" />
  <text class="title" x="345" y="185">Clock Source Device</text>
  <text class="text" x="345" y="203">get_freq / get_counter</text>

  <rect class="box" x="560" y="160" width="210" height="70" />
  <text class="title" x="575" y="185">Clock Event Device</text>
  <text class="text" x="575" y="203">set_timeout / event ISR</text>

  <rect class="box" x="100" y="260" width="210" height="70" />
  <text class="title" x="115" y="285">Clock HRTimer</text>
  <text class="text" x="115" y="303">priority queue of timeouts</text>

  <rect class="box" x="330" y="260" width="210" height="70" />
  <text class="title" x="345" y="285">Boottime Helpers</text>
  <text class="text" x="345" y="303">get_us / get_ns / get_s</text>

  <rect class="box" x="560" y="260" width="210" height="70" />
  <text class="title" x="575" y="285">Clock Timer Adapter</text>
  <text class="text" x="575" y="303">rt_clock_timer device API</text>

  <path class="arrow" d="M 205 230 L 205 260" />
  <text class="label" x="215" y="250">timeouts</text>

  <path class="arrow" d="M 310 195 L 330 195" />
  <path class="arrow" d="M 540 195 L 560 195" />

  <path class="arrow" d="M 310 295 L 560 195" />
  <text class="label" x="380" y="232">set_timeout</text>

  <path class="arrow" d="M 560 215 L 310 295" />
  <text class="label" x="390" y="260">event_isr</text>

  <rect class="box" x="140" y="410" width="620" height="60" />
  <text class="title" x="160" y="440">BSP Drivers</text>
  <text class="text" x="160" y="458">arch counters, clock_timer drivers, DM/OFW integration</text>

  <rect class="box" x="200" y="490" width="500" height="50" />
  <text class="title" x="220" y="520">Hardware Counter / Timer</text>

  <path class="arrow" d="M 450 80 L 450 110" />
  <path class="arrow" d="M 450 380 L 450 410" />
  <path class="arrow" d="M 450 470 L 450 490" />
</svg>
