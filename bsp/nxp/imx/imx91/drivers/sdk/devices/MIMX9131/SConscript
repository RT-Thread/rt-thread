# for module compiling
import os
from building import *

cwd  = GetCurrentDir()
src = Glob('*.c') + Glob('drivers/*.c')

CPPPATH = [cwd, cwd + '/drivers']
CPPDEFINES = [
    {'CPU_MIMX9131DVVXJ': 1}
]
objs = DefineGroup('imx-sdk-MIMX9131', src, depend = [''], CPPPATH = CPPPATH, CPPDEFINES = CPPDEFINES)

for item in os.listdir(cwd):
    sconsfile = os.path.join(cwd, item, 'SConscript')
    if os.path.isfile(sconsfile):
        objs += SConscript(sconsfile)

Return('objs')
