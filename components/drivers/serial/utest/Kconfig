menu "Serial Test"

    config RT_UTEST_SERIAL_BYPASS
        bool "Serial Bypass Test"
        default n
        depends on RT_USING_SERIAL_BYPASS
        help
          Run tests validating the serial bypass feature.

    config RT_UTEST_SERIAL_V2
        bool "Serial V2 Test"
        default n
        depends on RT_USING_SERIAL_V2
        help
          Build testcases covering the Serial V2 core (buffer strategies, DMA).

    if RT_UTEST_SERIAL_V2

        config RT_SERIAL_TC_DEVICE_NAME
            string "Device Name for Serial Test"
            default "uart2"
            help
              UART device name used by the V2 testcases.

        config RT_SERIAL_TC_RXBUF_SIZE
            int "RX Buffer Size for Serial Test"
            default 128
            help
              Receive buffer size used during V2 tests.

        config RT_SERIAL_TC_TXBUF_SIZE
            int "TX Buffer Size for Serial Test"
            default 128
            help
              Transmit buffer size used during tests.

        config RT_SERIAL_TC_SEND_ITERATIONS
            int "Number of Iterations for Test Routines"
            default 100
            help
              How many times each test loop runs; raise for stress testing.

        config RT_UTEST_SERIAL_QEMU
            bool "QEMU Dedicated Test"
            default n
            help
              Enable extra scenarios tailored for QEMU environments.

        config RT_UTEST_SERIAL_POSIX
            bool "Serial POSIX Test"
            default n
            select RT_USING_DFS
            select RT_USING_POSIX_FS
            select RT_USING_POSIX_TERMIOS
            help
              Include POSIX-style serial tests that rely on DFS and termios.

        if RT_UTEST_SERIAL_POSIX

            config RT_SERIAL_POSIX_TC_DEVICE_NAME
                string "Device Name for Serial POSIX Test"
                default "dev/uart2"
                help
                  Path used by the POSIX testcases to open the serial device.

            config RT_SERIAL_POSIX_TC_SEND_ITERATIONS
                int "Number of Iterations for POSIX Test Routines"
                default 100
                help
                  Iteration count for the POSIX test loops.

        endif

    endif

endmenu
